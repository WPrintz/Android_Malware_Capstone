#!/usr/bin/env python

# Script that can be run on command line to shrink a large file by taking only the first n lines of the file in order. Expected input is piped from stdin, ie if streaming from online source or very large file.

#Run example: cat inputfile.txt | smallerizer_firstn 100 outputfile.txt

import sys
import argparse

def main(n_lines, outfile):
    out = open(outfile,'w')
    count = 0
    for line in sys.stdin:
        count += 1
        if n_lines >= count:
            out.write(line)
        else:
            break
    out.close()



if __name__ == '__main__':
    parser = argparse.ArgumentParser()
    parser.add_argument("n_lines")
    parser.add_argument("out_file")
    args = parser.parse_args()
    main(int(args.n_lines), args.out_file)
