# Android Malware Attack Detection (Under Construction)
[__Spring 2017 Galvanize Data Science Immersive__](https://www.galvanize.com/austin)

An Investigation of Android mobile Malware using the SherLock dataset and Big Data Tools


See this work as a presentation in [Google Slides](https://docs.google.com/presentation/d/1fFDJEPQBMHpbmsuY1YMRZR-Qu2Rx3q4-L_taB1lxBmE/edit?usp=sharing).

# <br>
Why is Mr. Robot in my phone?<img src="images/Samsung_Galaxy_Mr_Robot.png" height=35%, width=35%, alt="What's hiding inside your phone?", ALIGN="right">

# Background & Motivation

To properly investigate mobile device malware, one must focus on the platforms on which most malware resides.  Currently, >85% of smartphone devices operate the Android OS, while [99% of mobile malware](https://safeandsavvy.f-secure.com/2017/02/15/another-reason-99-percent-of-mobile-malware-targets-androids/) is found on the Android platform.

<img src="images/20160822_android_ios_businessinsider.png" height=60%, width=60%, alt="Mobile OS Market Share"><br>Figure __XX__. Smartphone Mobile OS Market Share, 2009-2016

A family of malware types [rapidly increasing in the wild](https://usa.kaspersky.com/about/press-releases/2017_kaspersky-lab-reports-mobile-ransomware-dramatically-increased-in-q1-2017) is the ransomware type of malware, wherein the malware encrypts portions of the device memory and demands payment from the victim to unlock the data.  

# Enter the SherLock Experiment

What is the SherLock Dataset?
> A long-term smartphone sensor dataset with a high temporal resolution. The dataset also offers explicit labels capturing the activity of malwares running on the devices. The dataset currently contains 10 billion data records from 30 users collected over a period of 2 years and an additional 20 users for 10 months (totaling 50 active users currently participating in the experiment).
The primary purpose of the dataset is to help security professionals and academic researchers in developing innovative methods of implicitly detecting malicious behavior in smartphones. Specifically, from data obtainable without superuser (root) privileges. However, this dataset can be used for research in domains that are not strictly security related. For example, context aware recommender systems, event prediction, user personalization and awareness, location prediction, and more. The dataset also offers opportunities that aren't available in other datasets. For example, the dataset contains the SSID and signal strength of the connected WiFi access point (AP) which is sampled once every second, over the course of many months.

More information on the data set and methods of collection can be found here: [http://bigdata.ise.bgu.ac.il/sherlock/](http://bigdata.ise.bgu.ac.il/sherlock/)


<img src="images/Data_management.png" height=70%, width=70%, alt="Data Management Pipeline"><br>Figure __XX__. Data management Pipeline

# Analysis methods

Using Apache Spark

<img src="images/Spark_dag_labeled.png" height=80%, width=80%, alt="Spark DAG"><br>Figure __XX__. Spark Directed Acyclic Graph

# Predicting malware events

<img src="images/Results_conf_matrix.png" height=80%, width=80%, alt="Results"><br>Figure __XX__. Confusion Matrix Predicting malware events.


# Future improvements

An ideal threat detection method would continuously monitor the mobile device's running processes and internal state, raising a flag as soon as possible after a malicious event begins.  However, continuous monitoring uses significant battery life and a trade-off must be made to balance the user's desire for longer battery lifetime against the economic or efficiency lost to disruption of the device availability.
Predicting malware attack given discreet time slices is an easier task than a continuous time-series


# Acknowledgements

My sincere thanks to [Yisroel Mirsky](yisroel@post.bgu.ac.il) of Ben-Gurion University of the Negev, Dept. of Software and Information Systems Engineering  

# References :
[Mirsky, Yisroel, et al. "SherLock vs Moriarty: A Smartphone Dataset for Cybersecurity Research." Proceedings of the 2016 ACM Workshop on Artificial Intelligence and Security. ACM, 2016.](https://drive.google.com/file/d/0B_A1qX1kf7R9OVhhVk5wNjkydkU/view?usp=sharing)

[Guillermo Suarez-Tangil, Juan E Tapiador, Pedro Peris-Lopez, and Arturo Ribagorda. Evolution, detection and analysis of malware for smart devices. Communications Surveys & Tutorials, IEEE, 16(2):961â€“987, 2014.](https://pdfs.semanticscholar.org/8005/2ba5ef7339058829ddb0e9a8289b5a275c48.pdf)
